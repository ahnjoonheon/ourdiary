# 🌟 공유 일기 서비스 요구사항 정의서 🌟

## 💡 기능 요구사항
### 👥 사용자 관리
1. **사용자 로그인/회원가입 🌈**
   * 사용자는 회원가입을 통해 이름, 이메일, 비밀번호를 설정할 수 있어요! ✨
   * 회원가입 시 이메일 인증 절차를 거쳐요~ ✅
   * 회원가입된 사용자는 이메일과 비밀번호로 로그인할 수 있어요! 😃
   * 로그인된 사용자는 프로필 사진을 등록하거나 수정할 수 있어요! 🌸
   * 사용자는 닉네임을 가져야만해요! 🦜

### 📚 일기장 관리
1. **일기장 생성 및 참여 📓**
   * 로그인한 사용자는 한 개의 일기장만 생성하거나 참여할 수 있어요! 🌟
   * 일기장 생성 시 사용자는 일기장의 이름과 설명을 입력할 수 있어요! 🖊️
   * 사용자는 일기장에 다른 사용자를 초대할 수 있어요! 👫
   * 로그인을 하고 생성 또는 참여한 일기장이 있다면, 일기장으로 자동으로 들어가져요! 🚪
   * 생성 또는 참여한 일기장이 없다면, 일기장 생성 혹은 초대를 선택하는 화면으로 들어가져요! ➡️

2. **일기장 메인 관리 🎨**
   * 일기장 메인은 배경화면을 선택할 수 있어요! 🌅
   * 일기장 배경화면은 사진 혹은 색으로 설정할 수 있어요! 🖼️
   * 일기장 배경화면 위에는 사진 혹은 꾸미기 스티커로 커스텀 할 수 있어요! 🧸
   * 스티커는 D-Day 등 동적으로 움직이는 스티커도 포함될 수 있어요! 🎈

### 📝 일기 관리

1. 에디터 선정 🖋️
   * **CKEditor 5:** CKEditor 5는 풍부한 텍스트 편집 기능을 제공하는 웹 기반의 WYSIWYG 에디터입니다. 텍스트 스타일, 이모지, 스티커 등 다양한 기능을 지원하며, 사용자 친화적인 인터페이스와 확장성 있는 구조를 가지고 있습니다.
   * **Quill:** Quill은 강력한 기능을 가진 오픈 소스의 WYSIWYG 에디터입니다. 텍스트 스타일링, 이모지, 스티커, 일기장 배경 및 테마 선택 등을 지원하며, 커스터마이징이 가능하고 직관적인 사용자 경험을 제공합니다.
   * **Froala Editor:** Froala Editor는 사용하기 쉽고 다양한 기능을 가진 WYSIWYG 에디터입니다. 텍스트 스타일, 이모지, 스티커, 일기장 배경 및 테마 선택 등을 지원하며, 이미지 업로드, 커스텀 플러그인 추가 등의 확장 기능을 제공합니다.
   * **TinyMCE:** TinyMCE는 널리 사용되는 오픈 소스의 WYSIWYG 에디터로서 다양한 기능과 확장성을 가지고 있습니다. 텍스트 스타일, 이모지, 스티커, 일기장 배경 및 테마 선택 등을 지원하며, 사용자 정의 플러그인을 추가할 수 있습니다.

1. **일기 생성 🎁**
   * 로그인한 사용자는 새로운 일기를 생성할 수 있어요! 🎉
   * 일기 생성 시 사용자는 제목, 내용, 태그를 입력할 수 있어요! 🥳
   * 사용자는 일기를 꾸미기 위해 다양한 텍스트 스타일, 이모지, 스티커를 추가할 수 있어요! 🎨
   * 일기에는 자동으로 작성 날짜가 기록돼요~ 🗓️
   * 일기와 일기장은 일대다 관계를 가집니다! 🔄

2. **일기 조회 👀**
   * 사용자는 일기장에 참여한 사용자들이 작성한 일기를 리스트로 확인할 수 있어요! 📖
   * 일기는 최신순으로 정렬돼요! ⏳
   * 검색은 제목, 태그, 내용, 작성자로 검색할 수 있어요! 🔍

3. **일기 수정 ✏️**
   * 사용자는 작성한 일기의 제목, 내용, 태그를 수정할 수 있어요! 📝
   * 사용자는 일기를 꾸미기 위해 텍스트 스타일, 이모지, 스티커를 수정할 수 있어요! ✨
   * 사용자는 수정한 날짜가 기록되어야 해요~ ⏰
   * **텍스트 스타일 수정**: 사용자는 일기 내의 텍스트 스타일을 수정할 수 있습니다. 이를 통해 글꼴, 글자 크기, 색상, 정렬 등을 변경할 수 있습니다.
   * **이모지 추가 및 수정**: 사용자는 일기 내에 이모지를 추가하거나 기존의 이모지를 수정할 수 있습니다. 이를 통해 감정이나 분위기를 표현할 수 있습니다.
   * **수정한 날짜 기록**: 사용자가 일기를 수정할 때는 수정한 날짜가 기록되어야 합니다. 이를 통해 사용자는 일기가 언제 수정되었는지를 확인할 수 있습니다.
   * **일기 배경 및 테마 선택**: 사용자는 일기의 배경화면과 테마를 선택할 수 있습니다. 배경화면은 사진이나 색상으로 설정할 수 있으며, 테마는 일기 전반의 디자인 요소들을 포함합니다. 사용자는 다양한 배경화면과 테마 중
   * **스티커 추가 및 수정**: 사용자는 일기에 스티커를 추가하거나 기존의 스티커를 수정할 수 있습니다. 스티커는 다양한 종류와 디자인으로 제공되며, 일기 내에 적절하게 배치할 수 있습니다. 사용자는 스티커의 크기와 위치를 조정할 수도 있습니다. 스티커는 일기의 분위기나 주제에 맞게 선택하여 추가할 수 있습니다.
   * 스티커를 구현하기 위해서는 다음과 같은 요건을 고려할 수 있습니다:
     * **스티커 이미지 저장**: 스티커 이미지를 저장하기 위해 파일 시스템 또는 클라우드 스토리지를 활용할 수 있습니다. 스티커 이미지는 적절한 디렉토리 구조로 저장되어 관리됩니다.
     * **스티커 메타데이터**: 스티커의 메타데이터는 스티커의 식별자, 제목, 카테고리, 크기, 위치 등을 포함합니다. 이러한 메타데이터는 데이터베이스에 저장되어 관리됩니다.
     * **스티커 카테고리**: 스티커를 카테고리별로 분류하여 관리할 수 있습니다. 이를 통해 사용자는 원하는 스티커 카테고리를 선택하여 스티커를 찾을 수 있습니다.
     * **스티커 크기 및 위치 조정**: 사용자는 스티커의 크기와 위치를 조정할 수 있어야 합니다. 이를 위해 스티커의 크기와 위치를 저장하고, 사용자의 조작에 따라 변경되도록 구현됩니다.
     * **스티커 레이어 처리**: 여러 개의 스티커가 겹쳐질 경우, 스티커 레이어를 처리하여 올바르게 표시되도록 구현됩니다. 이를 통해 사용자가 스티커를 적절히 배치할 수 있습니다.
     * 데이터베이스에 스티커 관련 데이터를 저장하기 위해서는 스티커의 메타데이터를 포함한 필요한 정보를 저장해야 합니다. 예를 들어, 스티커의 식별자, 이미지 파일 경로, 카테고리, 크기, 위치 등의 정보를 데이터베이스 테이블에 저장할 수 있습니다. 이를 통해 스티커를 생성, 조회, 수정, 삭제할 수 있습니다.
     * 스티커의 구현 방법은 다양한 접근법이 있습니다. 예를 들어, 이미지 파일을 서버에 저장하고 해당 파일의 경로를 데이터베이스에 저장하는 방법, 스티커 이미지를 Base64 형식으로 인코딩하여 데이터베이스에 저장하는 방법 등이 있습니다. 선택한 기술과 환경에 따라 구현 방법이 달라질 수 있으며, 개발 팀의 선호도와 요구사 항을 고려하여 적절한 방식을 선택할 수 있습니다.
     * 스티커의 데이터 관리와 처리는 사용자 경험에 큰 영향을 미치는 중요한 요소입니다. 따라서 효율적인 데이터 저장 및 처리 방식을 선택하고, 사용자가 원활하게 스티커를 조작할 수 있는 인터페이스를 제공하는 것이 중요합니다.
        에서 원하는 것을 선택하여 일기를 개성 있게 꾸밀 수 있습니다.

4. **일기 삭제 🗑️**
   * 사용자는 작성한 일기를 삭제할 수 있어요! ❌
   * **일기 상태 변경**: 삭제 기능은 일기의 상태를 변경하는 방식으로 구현됩니다. 일기를 완전히 삭제하는 대신, 일기의 상태를 '삭제됨'으로 표시하거나 일기를 비활성화 상태로 변경하여 보존할 수 있습니다. 이를 통해 사용자는 일기를 복구하거나 나중에 다시 활성화할 수 있게 됩니다.
   * **데이터베이스 처리**: 삭제된 일기는 데이터베이스에서 물리적으로 삭제되지 않고, 삭제 상태 또는 비활성화 상태로 표시됩니다. 이를 통해 사용자의 일기를 잘못 삭제했을 때 데이터 복구가 가능하며, 일기에 대한 통계와 분석 등의 작업도 수월해집니다.
   * **일기 목록에서의 표시**: 삭제된 일기는 사용자의 일기 목록에서 표시되지 않거나 삭제되었음을 알려주는 아이콘 또는 표시 방식으로 구분됩니다. 이를 통해 사용자는 삭제한 일기와 남아있는 일기를 쉽게 구분할 수 있습니다.
   * **복구 기능**: 사용자는 삭제한 일기를 복구할 수 있는 기능을 제공합니다. 삭제된 일기를 복구하면 다시 일기 목록에 표시되며, 수정이나 조회가 가능해집니다.
   * **데이터 정리**: 삭제된 일기는 일정 기간이 지난 후에 자동으로 데이터베이스에서 삭제되도록 스케줄링하여 데이터 정리를 수행합니다. 이를 통해 시스템의 성능과 데이터베이스 공간을 효율적으로 관리할 수 있습니다.

5. **사진 첨부 📸**
   * 사용자는 일기에 사진을 첨부할 수 있어요! 🖼️
   * 사진 첨부 시 사용자는 사진에 대한 설명과 태그를 입력할 수 있어요! 📝
   * **용량 제한 ⚖️**: 사용자가 첨부할 수 있는 사진의 용량은 최대 5MB로 제한돼요. 이는 서버의 저장 공간을 효율적으로 사용하기 위해 필요해요.
   * **크기 제한 📐**: 사진의 해상도는 최대 1920x1080으로 제한돼요. 더 큰 해상도의 사진은 자동으로 리사이징돼요.
   * **사진 포맷 제한 🖼️**: JPEG, PNG, GIF 형식의 사진만 첨부할 수 있어요. 이외의 형식은 지원되지 않아요.
   * **사진 수 제한 🧮**: 하나의 일기에 첨부할 수 있는 사진의 수는 최대 5장으로 제한돼요.
   * **EXIF 데이터 제거 🕵️‍♂️**: 사진을 업로드할 때, 사진의 EXIF 데이터(장소, 카메라 설정 등)는 자동으로 제거돼요. 이는 사용자의 개인 정보를 보호하기 위한 조치에요.
   * **익명 데이터 수집 및 통계 시각화 서비스 추가 요건**: 사진의 EXIF 데이터를 익명으로 수집하여 어떤 장소를 사용자들이 주로 방문했는지, 모든 사용자들이 많이 간 장소 등에 대한 통계를 시각화하는 서비스를 추가할 수 있어요. 이 서비스는 사용자들이 자신의 개인 정보를 공개하지 않고도 일기를 통해 장소 관련 통계를 확인할 수 있게 도와줘요.
   * **익명 데이터 수집**: 사용자가 첨부한 사진의 EXIF 데이터 중 위치 정보와 관련된 정보를 익명으로 수집합니다. 이때, 개인 식별 정보는 삭제되고, 익명 식별자를 사용하여 데이터를 저장합니다.
   * **통계 시각화**: 수집된 익명 데이터를 활용하여 장소 관련 통계를 시각화하여 제공합니다. 이는 사용자들에게 어떤 장소가 인기 있는지, 사용자들이 주로 어떤 장소를 방문하는지 등을 알려줄 수 있습니다.
   * **보안 및 개인 정보 보호**: 익명 데이터 수집 및 통계 시각화에 대한 보안 및 개인 정보 보호에 대한 규정과 정책을 마련하여 사용자들의 개인 정보를 적절히 보호합니다. 이를 위해 데이터 암호화, 접근 제어 등의 보안 조치를 적용할 수 있습니다.
   * **물리적 저장 구조 🗄️**: 첨부된 사진은 서버에는 물리적으로 날짜별 폴더에 분류되어 저장돼요. 이는 사진 관리를 효율적으로 하기 위해 필요해요.


### 💌 댓글, 태그 검색 및 감정분석 리포트

1. **댓글 기능 💬**
   * 사용자는 일기에 댓글을 작성할 수 있어요! 🗨️
   * 사용자는 작성한 댓글을 수정 및 삭제할 수 있어요! 🛠️

2. **태그 검색 🔍**
   * 사용자는 태그를 통해 자신의 일기를 검색할 수 있어요! 🕵️‍♀️
   * 검색 결과로 해당 태그가 있는 일기가 리스트에 보여져요! 📋
   * **태그 개수 제한 🧮**: 사용자는 일기당 최대 10개의 태그를 붙일 수 있어요. (또는 태그 개수를 무제한으로 설정할 수도 있으나, 사용자 경험과 데이터 관리 측면에서 적정한 제한을 두는 것이 바람직해요.)
   * **자동완성 기능 🤖**: 태그를 입력할 때, 이전에 사용했던 태그나 인기 있는 태그들을 자동완성 기능으로 보여줘 사용자가 쉽게 선택할 수 있게 해요.
   * **필터링 옵션 🕊️**: 태그 검색 결과를 정렬하는 옵션(예: 최신순, 오래된 순, 가장 많은 댓글 순)을 제공해요.
   * **태그 클라우드 ☁️**: 사용자의 일기에서 자주 사용된 태그들을 태그 클라우드 형태로 보여주며, 클릭 시 해당 태그로 검색 결과를 보여줘요.

3. **감정분석 리포트 📊**
   * 일기를 작성하면 감정분석 AI를 통해 감정 분석 리포트를 제공해요! 🤖
   * 리포트는 본인만 볼 수 있게끔 기능이 구현돼요! 🔒
   * **AI 선택**: 감정 분석을 수행하기 위해 Natural Language Processing (NLP) 기반의 AI를 사용하는 것이 좋아요. 특히, 사전 훈련된 모델들 (예: OpenAI의 GPT, Google의 BERT)을 활용하여 정확도를 높일 수 있어요. 🧠
   * **감정 카테고리**: 사용자가 작성한 일기 내용에 대한 긍정, 부정, 중립, 행복, 슬픔, 분노 등과 같은 다양한 감정 카테고리를 분석해요. 🌈
   * **시각화**: 감정 분석 결과를 그래프나 차트를 통해 시각적으로 표현하여, 사용자가 쉽게 이해할 수 있도록 해요. 📈
   * **히스토리**: 사용자의 감정 변화를 시간에 따라 추적하고, 이를 통해 시간 경과에 따른 감정 변화를 분석해요. 📆
   * **개인화된 피드백**: 사용자의 감정 상태에 따라 개인화된 피드백이나 조언을 제공해요. 👩‍⚕️
   * **접근 제어**: 리포트는 사용자의 계정에 연결되며, 로그인한 사용자만 볼 수 있도록 보안을 강화해야 해요. 또한, 사용자의 데이터는 암호화하여 저장하여 정보를 보호해야 해요. 🔐

### 🔏 앱잠금 기능

1. **앱잠금 기능 설정 🛡️**
   * 사용자는 설정에서 앱잠금 기능을 활성화할 수 있어요! 🔑
   * 앱잠금은 패턴, 비밀번호, 핀 번호 또는 지문 인식을 통해 설정할 수 있어요! 🤳
   * 사용자가 앱을 종료하고 다시 실행할 때 마다 앱잠금을 통해 인증을 거쳐야 앱을 사용할 수 있어요! 🚧

2. **앱잠금 기능 해제 🗝️**
   * 사용자는 설정에서 앱잠금 기능을 비활성화할 수 있어요. 단, 비활성화를 위해선 먼저 앱잠금 인증을 거쳐야 해요! ✅

3. **비밀번호 찾기/변경 🔒**
   * 사용자가 설정한 앱잠금 비밀번호를 잊어버렸을 때, 이메일 인증을 통해 비밀번호를 재설정할 수 있어요! 💌
   * 사용자는 설정에서 현재 비밀번호를 입력한 후 새로운 비밀번호로 변경할 수 있어요! 🔄

4. **보안 강화 ⚔️**
   * 앱잠금 기능은 사용자의 개인 정보와 일기 내용을 보호하기 위해 중요한 기능이에요. 앱잠금 인증이 실패할 경우 일정 시간 동안 재시도를 할 수 없도록 설정할 수 있어요! ⏲️

## 🎯 비기능 요구사항

### ⚡ 성능

1. **실시간 처리 🕒**
   * 일기와 사진의 생성, 수정, 삭제는 사용자에게 실시간으로 반영되어야 해요! ⚡
   * 댓글의 생성, 수정, 삭제도 사용자에게 실시간으로 반영되어야 해요! 🚀

### 🔒 보안

1. **데이터 보호 🛡️**
   * 사용자 데이터는 암호화되어 저장되어야 해요! 🔒
   * 사용자가 작성한 일기 및 댓글도 암호화되어 저장되어야 해요! 🔏

### 📈 확장성

1. **스케일 아웃 🌐**
   * 서비스는 사용자 수가 증가함에 따라 확장할 수 있어야 해요! 🌱

### 🔄 호환성

1. **다양한 플랫폼 지원 📱💻**
   * 서비스는 웹과 모바일 모두 지원해야 해요! 🌍
   * 모바일 앱은 안드로이드와 iOS를 모두 지원해야 해요! 📱
   * **프론트엔드 기술 선택**: 백엔드가 Spring Boot를 사용해 API 서버를 구축하는 경우, 웹, 안드로이드, iOS 모두에서 사용 가능한 프론트엔드 기술을 선택해야 해요. 이를 위해 다음과 같은 기술들을 고려해볼 수 있어요:
      * **React Native**: React Native를 사용하면 JavaScript로 코드를 작성하고, 이를 안드로이드와 iOS 앱으로 변환할 수 있어요. React Native를 사용하면 한 번의 코드 작성으로 두 가지 플랫폼을 지원할 수 있기 때문에 효율적이에요. 🚀
      * **Flutter**: Flutter는 Dart 언어를 사용하며, 안드로이드와 iOS 모두에서 네이티브 앱을 생성할 수 있어요. 성능과 사용자 경험 측면에서 우수한 선택이에요. 🌟
      * **웹 앱 (HTML, CSS, JavaScript)**: 웹 기술을 사용하여 반응형 웹 앱을 개발할 수 있어요. 이 웹 앱은 모바일 브라우저에서도 사용 가능하고, Progressive Web App (PWA) 기술을 사용하여 모바일 앱과 유사한 경험을 제공할 수도 있어요. 💻
      * **Ionic**: Ionic은 웹 기술을 사용하여 모바일 앱을 개발할 수 있게 해주는 프레임워크에요. Angular, React, Vue와 같은 프론트엔드 라이브러리를 사용할 수 있고, 네이티브 앱을 빌드하는 데 필요한 도구를 제공해요. ⚙️


### ⚙️ 유지보수성

1. **모듈화 🧩**
   * **분리된 계층 구조**: 코드는 여러 계층으로 나누어져야 해요. 예를 들면, 데이터 액세스, 비즈니스 로직, 그리고 사용자 인터페이스 계층이 있어요. 이렇게 계층을 나누면 특정 계층에 문제가 생겼을 때 그 부분만 수정하면 되기 때문에 유지보수가 쉬워져요! 📚
   * **재사용 가능한 컴포넌트**: 코드를 작은, 재사용 가능한 컴포넌트로 나누어야 해요. 각 컴포넌트는 특정 기능을 수행하고, 필요할 때 다른 곳에서 쉽게 재사용할 수 있어야 해요! 🔁
   * **코드 문서화**: 각 모듈과 컴포넌트에 대해 충분한 문서화가 필요해요. 이렇게 하면 다른 개발자들이 코드를 쉽게 이해할 수 있고, 문제를 빠르게 파악하고 수정할 수 있어요! 📝
   * **테스트 자동화**: 모듈화된 코드는 자동화된 테스트 케이스를 쉽게 작성할 수 있어요. 코드를 변경하거나 새로운 기능을 추가할 때마다 자동화된 테스트를 실행하여 기존 기능이 제대로 작동하는지 확인할 수 있어요! 🤖
   * **버전 관리 시스템 사용**: Git과 같은 버전 관리 시스템을 사용하면, 코드 변경 내역을 추적하고 필요한 경우 이전 상태로 되돌릴 수 있어요. 이는 코드 유지보수에 매우 중요한 요소이기도 해요! 🔄
   * **코딩 규약 및 스타일 가이드 준수**: 일관된 코딩 스타일과 규약을 사용하면 코드의 가독성이 향상되고, 팀원들 간의 협업이 더 원활해져요! ✍️
   * **의존성 관리**: 코드의 모듈 간에는 최소한의 의존성을 가져야 해요. 이를 위해 의존성 주입(Dependency Injection)과 같은 패턴을 사용하여 모듈 간의 결합도를 낮출 수 있어요. 이렇게 하면 한 부분을 변경해도 다른 부분에 최소한의 영향만 미치게 됩니다. 🛠️

